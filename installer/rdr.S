#######################################################################
# CARD 1                                                              #
#######################################################################

# During the system IPL, 24 bytes are read from the device.
#
# NOTE: zArch IPLs in ESA/390 mode.
#

#
# Bytes 0-7 contain PSW to be loaded after IO operation completes
#
	.byte	0x00
		#   bits  value   name                        desc
		#      0      0   <zero>
		#      1      0   PER Mask (R)                disabled
		#    2-4      0   <zero>
		#      5      0   DAT Mode (T)                disabled
		#      6      0   I/O Mask (IO)               disabled
		#      7      0   External Mask (EX)          disabled

	.byte	0x08
		#   bits  value   name                        desc
		#   8-11      0   Key
		#     12      1   <one>
		#     13      0   Machine-Check Mask (M)      disabled
		#     14      0   Wait State (W)              executing
		#     15      0   Problem State (P)           supervisor state

	.byte	0x00
		#   bits  value   name                        desc
		#  16-17      0   Address-Space Control (AS)  disabled
		#  18-19      0   Condition Code (CC)
		#  20-23      0   Program Mask                exceptions disabled

	.byte	0x00
		#   bits  value   name                        desc
		#  24-30      0   <zero>
		#     31      0   Extended Addressing (EA)    ! 64 mode

	.byte	0x80	# bits 32-39
	.byte	0x10	# bits 40-47
	.byte	0x00	# bits 48-55
	.byte	0x00	# bits 56-63
		#   bits  value   name                        desc
		#     32      1   Basic Addressing (BA)       BA = 31, !BA = 24
		#  33-63   addr   Instruction Address         Address to exec

#
# The remaining 16 bytes should contain CCW to read data from device
#

# CCW format-0:
#   bits  name
#    0-7  Cmd Code
#   8-31  Data Address
#     32  Chain-Data (CD)
#     33  Chain-Command (CC)
#     34  Sup.-Len.-Inditcation (SLI)
#     35  Skip (SKP)
#     36  Prog.-Contr.-Inter. (PCI)
#     37  Indir.-Data-Addr. (IDA)
#     38  Suspend (S)
#     39  Modified I.D.A. (MIDA)
#  40-47  <ignored>
#  48-63  number of bytes to read

# CP-CCW 1
	# READ 80 bytes of CCWs to 0x080000
	.byte	0x02, 0x08, 0x00, 0x00
	.byte	0x40, 0x00, 0x00, 0x50

# CP-CCW 2
	# TIC to 0x080000
	.byte	0x08, 0x08, 0x00, 0x00
	.byte	0x00, 0x00, 0x00, 0x00

#
# Pad to 80 bytes
#
	.byte 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40
	.byte 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40
	.byte 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40
	.byte 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40
	.byte 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40
	.byte 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40
	.byte 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40

#######################################################################
# CARD 2                                                              #
#######################################################################

# CP-CCW 3
	# READ 80 bytes of CCWs to 0x080050
	.byte	0x02, 0x08, 0x00, 0x50
	.byte	0x40, 0x00, 0x00, 0x50

# CP-CCW 4
	.byte	0x02, 0x08, 0x00, 0xA0
	.byte	0x40, 0x00, 0x00, 0x50

# CP-CCW 5
	.byte	0x02, 0x08, 0x00, 0xF0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 1
	# READ 80 bytes of data to 0x100000
	.byte	0x02, 0x10, 0x00, 0x00
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 2
	.byte	0x02, 0x10, 0x00, 0x50
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 3
	.byte	0x02, 0x10, 0x00, 0xA0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 4
	.byte	0x02, 0x10, 0x00, 0xF0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 5
	.byte	0x02, 0x10, 0x01, 0x40
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 6
	.byte	0x02, 0x10, 0x01, 0x90
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 7
	.byte	0x02, 0x10, 0x01, 0xE0
	.byte	0x40, 0x00, 0x00, 0x50

#######################################################################
# CARD 3                                                              #
#######################################################################

# LOADER-CCW 8
	.byte	0x02, 0x10, 0x02, 0x30
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 9
	.byte	0x02, 0x10, 0x02, 0x80
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 10
	.byte	0x02, 0x10, 0x02, 0xD0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 11
	.byte	0x02, 0x10, 0x03, 0x20
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 12
	.byte	0x02, 0x10, 0x03, 0x70
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 13
	.byte	0x02, 0x10, 0x03, 0xC0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 14
	.byte	0x02, 0x10, 0x04, 0x10
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 15
	.byte	0x02, 0x10, 0x04, 0x60
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 16
	.byte	0x02, 0x10, 0x04, 0xB0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 17
	.byte	0x02, 0x10, 0x05, 0x00
	.byte	0x40, 0x00, 0x00, 0x50

#######################################################################
# CARD 4                                                              #
#######################################################################

# LOADER-CCW 18
	.byte	0x02, 0x10, 0x05, 0x50
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 19
	.byte	0x02, 0x10, 0x05, 0xA0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 20
	.byte	0x02, 0x10, 0x05, 0xF0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 21
	.byte	0x02, 0x10, 0x06, 0x40
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 22
	.byte	0x02, 0x10, 0x06, 0x90
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 23
	.byte	0x02, 0x10, 0x06, 0xE0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 24
	.byte	0x02, 0x10, 0x07, 0x30
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 25
	.byte	0x02, 0x10, 0x07, 0x80
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 26
	.byte	0x02, 0x10, 0x07, 0xD0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 27
	.byte	0x02, 0x10, 0x08, 0x20
	.byte	0x40, 0x00, 0x00, 0x50

#######################################################################
# CARD 5                                                              #
#######################################################################

# LOADER-CCW 28
	.byte	0x02, 0x10, 0x08, 0x70
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 29
	.byte	0x02, 0x10, 0x08, 0xC0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 30
	.byte	0x02, 0x10, 0x09, 0x10
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 31
	.byte	0x02, 0x10, 0x09, 0x60
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 32
	.byte	0x02, 0x10, 0x09, 0xB0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 33
	.byte	0x02, 0x10, 0x0A, 0x00
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 34
	.byte	0x02, 0x10, 0x0A, 0x50
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 35
	.byte	0x02, 0x10, 0x0A, 0xA0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 36
	.byte	0x02, 0x10, 0x0A, 0xF0
	.byte	0x40, 0x00, 0x00, 0x50

# LOADER-CCW 37
	.byte	0x02, 0x10, 0x0B, 0x40
	.byte	0x00, 0x00, 0x00, 0x50
